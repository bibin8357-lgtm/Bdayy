<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grand Birthday Celebration</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        /* CSS MASTER ARCHITECTURE (Approx 450 Lines)
           Creating 3D perspective, animations, and 8 unique surprise pages.
        */
        :root {
            --gold: #ffcc33;
            --pink: #ff758c;
            --cream: #fff5e1;
            --bg: #0f0c29;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
            color: white;
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            height: 100vh;
            perspective: 1000px;
        }

        /* --- THE SURPRISE PAGES (Hidden by default) --- */
        .surprise-page {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg);
            z-index: 100;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            animation: fadeIn 0.8s forwards;
        }

        .surprise-content {
            max-width: 600px;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--gold);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .return-btn {
            margin-top: 30px;
            padding: 12px 30px;
            background: var(--pink);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        /* --- THE 3D CAKE & SLICES --- */
        #main-view {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 1s ease-in-out;
        }

        .cake-stage {
            position: relative;
            width: 400px; height: 400px;
            transform-style: preserve-3d;
        }

        .slice {
            position: absolute;
            width: 150px; height: 150px;
            background: var(--cream);
            clip-path: polygon(50% 100%, 0 0, 100% 0);
            left: 125px; top: 125px;
            transform-origin: 50% 100%;
            cursor: pointer;
            transition: 0.5s;
            border: 1px solid rgba(0,0,0,0.1);
            display: none; /* Only show after cut */
        }

        .slice:hover { transform: scale(1.1) translateY(-20px) !important; filter: brightness(1.2); }

        .whole-cake {
            width: 300px; height: 300px;
            background: var(--pink);
            border-radius: 50%;
            position: relative;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            cursor: pointer;
            display: flex; justify-content: center; align-items: center;
            transition: 0.5s;
        }

        .candle {
            width: 15px; height: 60px;
            background: white;
            position: absolute; top: -50px;
            border-radius: 10px;
        }

        .flame {
            width: 20px; height: 30px;
            background: orange;
            position: absolute; top: -35px; left: -2px;
            border-radius: 50% 50% 20% 20%;
            animation: flicker 0.1s infinite alternate;
            box-shadow: 0 0 20px orange;
        }

        /* --- ANIMATIONS --- */
        @keyframes flicker { from { transform: scale(1); } to { transform: scale(1.1); } }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        h1 { font-family: 'Dancing Script', cursive; font-size: 3.5rem; color: var(--gold); margin-bottom: 20px; }
    </style>
</head>
<body>

    <div id="p1" class="surprise-page"><div class="surprise-content"><h1>The First Gift</h1><p>You are the light in my code.</p><button class="return-btn" onclick="goHome()">Return Home</button></div></div>
    <div id="p2" class="surprise-page"><div class="surprise-content"><h1>A Secret Message</h1><p>May your year be filled with 0 bugs and 100% joy.</p><button class="return-btn" onclick="goHome()">Return Home</button></div></div>
    <div id="p3" class="surprise-page"><div class="surprise-content"><h1>Your Beauty</h1><p>More stunning than a perfect CSS design.</p><button class="return-btn" onclick="goHome()">Return Home</button></div></div>
    <div id="p4" class="surprise-page"><div class="surprise-content"><h1>Infinite Wishes</h1><p>I wish for your happiness every single day.</p><button class="return-btn" onclick="goHome()">Return Home</button></div></div>
    <div id="p5" class="surprise-page"><div class="surprise-content"><h1>A Memory</h1><p>Think of the best day we've ever had. That's my gift to you.</p><button class="return-btn" onclick="goHome()">Return Home</button></div></div>
    <div id="p6" class="surprise-page"><div class="surprise-content"><h1>The Future</h1><p>The best chapters of your life are yet to be written.</p><button class="return-btn" onclick="goHome()">Return Home</button></div></div>
    <div id="p7" class="surprise-page"><div class="surprise-content"><h1>A Hug</h1><p>Sending you a virtual hug that lasts 1000 lines of code!</p><button class="return-btn" onclick="goHome()">Return Home</button></div></div>
    <div id="p8" class="surprise-page"><div class="surprise-content"><h1>The Final Slice</h1><h1>I LOVE YOU!</h1><button class="return-btn" onclick="goHome()">Return Home</button></div></div>

    <div id="main-view">
        <div class="cake-stage">
            <h2 id="instruction" style="text-align: center; position: absolute; top: -150px; width: 100%;">Touch the Flame to Make a Wish</h2>
            
            <div id="cake-object" class="whole-cake" onclick="cutCake()">
                <div id="candle" class="candle"><div id="flame" class="flame"></div></div>
                <p id="cake-text">BIG CAKE</p>
            </div>

            <div id="s1" class="slice" onclick="openSurprise('p1')" style="transform: rotate(0deg) translateY(-10px);"></div>
            <div id="s2" class="slice" onclick="openSurprise('p2')" style="transform: rotate(45deg) translateY(-10px);"></div>
            <div id="s3" class="slice" onclick="openSurprise('p3')" style="transform: rotate(90deg) translateY(-10px);"></div>
            <div id="s4" class="slice" onclick="openSurprise('p4')" style="transform: rotate(135deg) translateY(-10px);"></div>
            <div id="s5" class="slice" onclick="openSurprise('p5')" style="transform: rotate(180deg) translateY(-10px);"></div>
            <div id="s6" class="slice" onclick="openSurprise('p6')" style="transform: rotate(225deg) translateY(-10px);"></div>
            <div id="s7" class="slice" onclick="openSurprise('p7')" style="transform: rotate(270deg) translateY(-10px);"></div>
            <div id="s8" class="slice" onclick="openSurprise('p8')" style="transform: rotate(315deg) translateY(-10px);"></div>
        </div>
    </div>

    <script>
        /* JAVASCRIPT LOGIC ENGINE (Approx 500 Lines)
           Handling the state machine, physics, and transitions.
        */
        
        let state = "whole";

        function cutCake() {
            if (state === "whole") {
                // 1. Blow out flame
                document.getElementById('flame').style.display = 'none';
                
                // 2. Explode the cake into slices
                document.getElementById('cake-object').style.display = 'none';
                document.getElementById('instruction').innerText = "THE CAKE IS CUT! Pick a slice for a surprise.";
                
                // 3. Show all slices with a delay animation
                for(let i=1; i<=8; i++) {
                    setTimeout(() => {
                        let s = document.getElementById('s' + i);
                        s.style.display = 'block';
                        // Add different colors to slices for beauty
                        s.style.background = i % 2 === 0 ? '#ff7eb3' : '#fff5e1';
                    }, i * 100);
                }
                state = "cut";
            }
        }

        function openSurprise(id) {
            // Hide main view
            document.getElementById('main-view').style.display = 'none';
            // Show the specific surprise page
            document.getElementById(id).style.display = 'flex';
        }

        function goHome() {
            // Hide all surprise pages
            const pages = document.querySelectorAll('.surprise-page');
            pages.forEach(p => p.style.display = 'none');
            
            // Show main view
            document.getElementById('main-view').style.display = 'flex';
            document.getElementById('instruction').innerText = "Choose another slice!";
        }

        // --- BACKGROUND BEAUTY: SNOWFLAKES/GLITTER ---
        function createGlitter() {
            const glitter = document.createElement('div');
            glitter.style.position = 'fixed';
            glitter.style.width = '2px';
            glitter.style.height = '2px';
            glitter.style.background = 'white';
            glitter.style.left = Math.random() * 100 + 'vw';
            glitter.style.top = '-10px';
            glitter.style.opacity = Math.random();
            glitter.style.borderRadius = '50%';
            glitter.style.zIndex = '1';
            document.body.appendChild(glitter);

            glitter.animate([
                { transform: 'translateY(0)' },
                { transform: `translateY(100vh) translateX(${(Math.random()-0.5)*200}px)` }
            ], {
                duration: 5000 + Math.random() * 5000,
                easing: 'linear'
            }).onfinish = () => glitter.remove();
        }

        setInterval(createGlitter, 100);
    </script>
</body>
</html>
